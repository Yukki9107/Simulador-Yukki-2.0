{% extends "base.html" %}

{% block title %}Inicio · Simulador ESIIES{% endblock %}

{% block content %}
<section class="hero">
    <h1>Simulador de examen ESIIES</h1>
    <p class="hero-text">
        Practica los reactivos de Matemáticas básicas y otros módulos del examen de diagnóstico extendido.
        Elige un módulo, la cantidad de preguntas y el tiempo para tu simulacro.
    </p>
</section>

<section class="modules-grid">
    {% for m in modules %}
    <article class="module-card">
        <h2>{{ m.name }}</h2>
        <p class="module-meta">
            <span>{{ m.questions_official }} reactivos oficiales</span> ·
            <span>{{ m.time_minutes }} min (modo original)</span>
        </p>
        <p class="module-info">
            Banco cargado: <strong>{{ m.questions_available }}</strong> pregunta(s).
        </p>

        {% if m.questions_available > 0 %}
        <form method="get" action="{{ url_for('exam', module_key=m.key) }}" class="mode-form">
            <label for="n-{{ m.key }}" class="mode-label">Número de preguntas:</label>
            <select id="n-{{ m.key }}" name="n" class="mode-select">
                <option value="5">5 preguntas</option>
                <option value="10">10 preguntas</option>
                <option value="15">15 preguntas</option>
                <option value="20">20 preguntas</option>
            </select>

            <label for="t-{{ m.key }}" class="mode-label">Tiempo:</label>
            <select id="t-{{ m.key }}" name="t" class="mode-select">
                <option value="original">Opción original ({{ m.time_minutes }} min)</option>
                <option value="1">1 minuto</option>
                <option value="5">5 minutos</option>
                <option value="10">10 minutos</option>
                <option value="15">15 minutos</option>
                <option value="20">20 minutos</option>
            </select>

            <button type="submit" class="btn primary">Iniciar</button>
        </form>
        {% else %}
        <button class="btn disabled" disabled>
            Sin preguntas cargadas
        </button>
        {% endif %}
    </article>
    {% endfor %}
</section>

{% endblock %}
